<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qu·∫£n L√Ω Kho H√†ng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet" />
  <link href="./styles/index.css" rel="stylesheet"/>
</head>
<body>
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav class="col-md-2 d-none d-md-block sidebar p-3">
      <h5 class="text-white mb-4">üì¶ Kho H√†ng</h5>
      <ul class="nav flex-column">
        <li class="nav-item"><a class="nav-link" href="index.html">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link" href="product.html">S·∫£n ph·∫©m</a></li>
        <li class="nav-item"><a class="nav-link" href="supplier.html">Nh√† Cung C·∫•p</a></li>
        <li class="nav-item"><a class="nav-link " href="stockin.html">Nh·∫≠p kho</a></li>
        <li class="nav-item"><a class="nav-link" href="stockout.html">Xu·∫•t kho</a></li>
        <li class="nav-item"><a class="nav-link active" href="stocktake.html">Ki·ªÉm k√™</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Y√™u c·∫ßu mua</a></li>
        <li class="nav-item"><a class="nav-link" href="user-management.html">Ng∆∞·ªùi d√πng</a></li>
      </ul>
    </nav>

    <!-- Main Content -->
    <main class="col-md-10 ms-sm-auto col-lg-10 px-md-4 py-4">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h3>Danh s√°ch Phi·∫øu Ki·ªÉm K√™</h3>
        <a href="add-stocktake.html" class="btn btn-success">+ T·∫°o Phi·∫øu Ki·ªÉm K√™</a>
      </div>

      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <thead class="table-light">
          <tr>
            <th>#</th>
            <th>M√£ phi·∫øu</th>
            <th>Ng√†y ki·ªÉm k√™</th>
            <th>Ng∆∞·ªùi th·ª±c hi·ªán</th>
            <th>Tr·∫°ng th√°i</th>
            <th>H√†nh ƒë·ªông</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>1</td>
            <td>KK001</td>
            <td>2024-05-25</td>
            <td>Nguy·ªÖn VƒÉn A</td>
            <td><span class="badge bg-success">ƒê√£ ho√†n t·∫•t</span></td>
            <td>
              <button class="btn btn-sm btn-info" data-bs-toggle="modal" data-bs-target="#stocktakeDetailModal">Chi ti·∫øt</button>
              <button class="btn btn-sm btn-danger" onclick="confirmDelete(this)">X√≥a</button>
            </td>
          </tr>
          <tr>
            <td>2</td>
            <td>KK002</td>
            <td>2024-05-26</td>
            <td>Tr·∫ßn Th·ªã B</td>
            <td><span class="badge bg-warning text-dark">Ch·ªù x√°c nh·∫≠n</span></td>
            <td>
              <button class="btn btn-sm btn-info" data-bs-toggle="modal" data-bs-target="#stocktakeDetailModal">Chi ti·∫øt</button>
              <button class="btn btn-sm btn-danger" onclick="confirmDelete(this)">X√≥a</button>
            </td>
          </tr>
          <!-- Th√™m d√≤ng kh√°c -->
          </tbody>
        </table>
      </div>
    </main>
  </div>
</div>

<!-- Modal Chi Ti·∫øt Phi·∫øu Ki·ªÉm K√™ -->
<div class="modal fade" id="stocktakeDetailModal" tabindex="-1" aria-labelledby="stocktakeDetailLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="stocktakeDetailLabel">Chi Ti·∫øt Phi·∫øu Ki·ªÉm K√™</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p><strong>M√£ phi·∫øu:</strong> <span id="modalCode">--</span></p>
        <p><strong>Ng√†y ki·ªÉm k√™:</strong> <span id="modalDate">--</span></p>
        <p><strong>Ng∆∞·ªùi th·ª±c hi·ªán:</strong> <span id="modalUser">--</span></p>
        <p><strong>Tr·∫°ng th√°i:</strong> <span id="modalStatus">--</span></p>

        <table class="table table-bordered mt-3">
          <thead class="table-light">
          <tr>
            <th>#</th>
            <th>T√™n s·∫£n ph·∫©m</th>
            <th>H·ªá th·ªëng</th>
            <th>Th·ª±c t·∫ø</th>
            <th>Ch√™nh l·ªách</th>
          </tr>
          </thead>
          <tbody id="modalDetailRows">
          <tr>
            <td>1</td>
            <td>√Åo s∆° mi tr·∫Øng</td>
            <td>35</td>
            <td>34</td>
            <td>-1</td>
          </tr>
          <tr>
            <td>2</td>
            <td>Qu·∫ßn jeans xanh</td>
            <td>12</td>
            <td>12</td>
            <td>0</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">ƒê√≥ng</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal X√°c Nh·∫≠n X√≥a -->
<div class="modal fade" id="deleteConfirmModal" tabindex="-1" aria-labelledby="deleteConfirmLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="deleteConfirmLabel">X√°c nh·∫≠n x√≥a</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a phi·∫øu ki·ªÉm k√™ <strong id="deleteCode">--</strong> kh√¥ng?
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
        <button class="btn btn-danger" id="confirmDeleteBtn">X√≥a</button>
      </div>
    </div>
  </div>
</div>

<script>
  let rowToDelete = null;

  // X·ª≠ l√Ω n√∫t Chi ti·∫øt
  document.querySelectorAll('[data-bs-target="#stocktakeDetailModal"]').forEach(btn => {
    btn.addEventListener("click", function () {
      const row = this.closest("tr");
      document.getElementById("modalCode").textContent = row.cells[1].textContent;
      document.getElementById("modalDate").textContent = row.cells[2].textContent;
      document.getElementById("modalUser").textContent = row.cells[3].textContent;
      document.getElementById("modalStatus").innerHTML = row.cells[4].innerHTML;
    });
  });

  // M·ªü modal x√°c nh·∫≠n x√≥a
  function confirmDelete(button) {
    const row = button.closest("tr");
    rowToDelete = row;
    const code = row.cells[1].textContent;
    document.getElementById("deleteCode").textContent = code;
    const modal = new bootstrap.Modal(document.getElementById("deleteConfirmModal"));
    modal.show();
  }

  // X·ª≠ l√Ω x√≥a d√≤ng khi x√°c nh·∫≠n
  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("confirmDeleteBtn").addEventListener("click", () => {
      if (rowToDelete) {
        rowToDelete.remove();
        rowToDelete = null;
        const modal = bootstrap.Modal.getInstance(document.getElementById("deleteConfirmModal"));
        modal.hide();
      }
    });
  });
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
